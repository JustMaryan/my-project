(()=>{"use strict";var e={d:(t,s)=>{for(var o in s)e.o(s,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:s[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{N1:()=>r,IG:()=>n});let t=(e,t=500,s=0)=>{e.classList.contains("_slide")||(e.classList.add("_slide"),e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=`${e.offsetHeight}px`,e.offsetHeight,e.style.overflow="hidden",e.style.height=s?`${s}px`:"0px",e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout((()=>{e.hidden=!s,!s&&e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),!s&&e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide"),document.dispatchEvent(new CustomEvent("slideUpDone",{detail:{target:e}}))}),t))};function s(e=""){const t=document.querySelector("#popup"),s=document.querySelector("#popup-content"),o=e=>{const t=e.target;t.closest(".popup__btn-remove")?document.documentElement.classList.remove("popup-active"):t.closest(".popup__btn-reset")&&(s.querySelectorAll("input").forEach((e=>e.value="")),s.querySelectorAll("select").forEach((e=>e.selectedIndex=-1)))};t.removeEventListener("click",o),t.addEventListener("click",o),s.innerHTML=e,document.documentElement.classList.add("popup-active")}function o(e="Empty"){document.body.insertAdjacentHTML("beforeend",` \n        <div id="success" class="success">\n        <div class="success__wrapper">\n            <div class="success__icon _icon-check"></div>\n            <p class="success__messege">${e}</p>\n        </div>\n     </div>`),document.querySelector('[data-btn="saveDocument"]').classList.add("saved"),setTimeout((()=>{document.querySelector("#success").remove()}),5e3)}function a(){const e=JSON.stringify(n);localStorage.setItem("storesDates",e)}let n=JSON.parse('[{"address":"Кошиця","category":"Свій маркет","foodDates":["Львівське 1715 1.12л, 2024-12-11","Львівське 1715 скл., 2024-12-22","Львівське світле 1.18л, 2025-02-15","Львівське світле скл., 2025-05-03","Білий лев 0.9л, 2025-02-10","Білий лев жб., 2025-01-07","Темний лев жб., 2025-08-17","Львівське м\'яке 0.9л, 2025-03-10","Львівське м\'яке жб., 2025-09-23","Львівське м\'яке скл., 2025-05-10","Львівське радлер яблуко жб., 2025-05-03","Арсенал скл., 2025-08-03","Арсенал жб., 2024-10-19","Львівське 1715 безалк. скл., 2024-12-12","Львівське 1715 безалк. жб., 2025-05-30","Гараж лимон жб., 2025-02-28","Гараж вишня жб., 2025-02-25","Гараж стар жб., 2025-02-09","Гараж вишня скл., 2024-11-23","Гараж стар скл., 2024-12-04","Гараж лимон скл., 2025-01-31","Гараж лимон 0.9л, 2025-03-23","Арсенал 1л., 2025-02-22","Карлсберг скл., 2025-01-02","Туборг скл., 2025-02-09","Міллер скл., 2025-01-01","Старопрамен скл., 2025-02-13","Міллер жб., 2025-01-16","Старопрамен жб., 2025-02-15","Карлсберг безалк. 0.33л жб., 2024-11-28"]},{"address":"Малоголосківська","category":"Свій маркет","foodDates":["Львівське 1715 1.45л, 2024-10-22","Львівське 1715 2.2л, 2024-12-16","Львівське 1715 1.12л, 2025-01-27","Львівське 1715 скл., 2024-12-22","Львівське 1715 жб., 2025-03-16","Львівське світле 2.2л, 2024-10-20","Львівське світле скл., 2025-03-21","Львівське м\'яке 0.9л, 2025-02-20","Львівське м\'яке скл., 2024-12-15","Львівське м\'яке жб., 2025-08-15","Білий лев 0.9л, 2024-12-08","Білий лев жб., 2024-12-24","Темний лев жб., 2025-06-20","Радлер яблуко жб., 2025-04-07","Радлер лимон жб., 2025-03-27","Арсенал жб., 2025-03-27","Арсенал скл., 2024-11-24","Жигулівське 1.48л., 2024-11-27","Арсенал 1л., 2025-01-11","Міллер скл., 2024-10-15","Карлсберг безалк. 0.33 жб., 2024-11-28","Гараж кампот жб., 2024-10-24","Гараж стар жб., 2024-11-02","Сомерзбі чорниця скл., 2024-11-02","Хольстен 2л., 2024-11-02"]},{"address":"Малоголосківська 16","category":"Близенько","foodDates":[]},{"address":"Малоголосківська 12","category":"Близенько","foodDates":[]},{"address":"Чорновола 69","category":"Близенько","foodDates":["Львівське 1715 2.2л, 2024-12-16","Львівське світле 2л., 2024-12-02","Хольстен 2л., 2025-02-02","Львівське 1715 1.15л, 2024-11-03","Львівське світле 1.18л., 2025-02-15","Львівське м\'яке 0.9л., 2025-03-16","Білий лев 0.9л., 2025-02-22","Арсенал 1л., 2025-02-28","Гараж 0.9л., 2025-02-22","Квас флавер повер жб., 2024-11-24","Львівське 1715 скл., 2025-02-02","Львівське м\'яке жб., 2025-08-28","Білий лев жб., 2025-02-15","Радлев яблуко жб., 2025-04-07","Гараж лимон скл., 2024-11-22","Гараж мандарин скл., 2025-02-01","Гараж стар скл., 2025-01-03","Туборг скл., 2024-11-09","Карлсберг скл., 2024-12-22","Карлсберг жб., 2025-08-23","Кроненбург роза скл., 2025-02-08","Кроненбург скл., 2025-03-16","Міллер скл., 2025-01-01","Старопрамен скл., 2025-03-02"]},{"address":"Чорновола 101","category":"Близенько","foodDates":["Львівське 1715 2.2л, 2025-02-13","Львівське світле 2.2л, 2025-02-22","Хольстен 2л., 2024-11-02","Квас тарас 2л., 2025-02-02","Львівське 1715 1.15л, 2024-12-11","Львівське світле 1.18л., 2025-01-27","Львівське світле 1.18л., 2025-01-27","Львівське м\'яке 0.9л., 2025-01-12","Білий лев 0.9л., 2024-12-08","Арсенал 1л., 2025-02-22","Гараж 0.9л., 2025-02-11","Львівське 1715 скл., 2024-11-10","Львівське м\'яке жб., 2025-08-15","Білий лев жб., 2025-01-07","Темний лев жб., 2025-07-04","Радлер яблуко жб., 2025-04-19","Квас флавер жб., 2024-11-24","Гараж лимон скл., 2024-12-04","Гараж мандарин скл., 2025-02-01","Гараж стар скл., 2025-02-01","Карлсберг скл., 2025-01-26","Карлсберг жб., 2025-08-23","Туборг скл., 2025-03-13","Кроненбург скл., 2025-02-28","Кроненбург роза скл., 2024-11-26","Міллер скл., 2025-02-13","Старопрамен скл., 2024-11-15","Старопрамен жб., 2024-12-06","Хольстен екстра жб., 2025-02-21","Карлсберг безалк жб., 2025-04-26","Львівське 1715 безалк жб., 2025-04-01","Гараж грейфрут безалк 0.5л жб., 2025-01-20","Гараж лайм безалк 0.5л жб., 2025-03-13","Гараж вишня 0.5л жб., 2025-04-08"]},{"address":"Підголоско","category":"Близенько","foodDates":[]},{"address":"Малоголосківська","category":"АТБ","foodDates":[]},{"address":"Замарстинівська","category":"АТБ","foodDates":[]},{"address":"Чорновола","category":"Арсен","foodDates":["Міллер жб., 2024-11-07","Львівське 1715 скл., 2024-10-24","Львівське 1715 безалк скл., 2024-10-30","Радлер яблуко жб, 2024-12-12"]},{"address":"Чорновола","category":"Рукавичка","foodDates":[]},{"address":"Панча","category":"Рукавичка","foodDates":[]},{"address":"Варшавська","category":"Рукавичка","foodDates":[]},{"address":"Малоголосківська","category":"Рукавичка","foodDates":[]},{"address":"Малоголосківська","category":"Сімі","foodDates":[]}]');const r=["Свій маркет","Близенько","Рукавичка","АТБ","Арсен","Сімі"];console.log(n),function(){const e=document.querySelector("[data-container]"),t=new Date;let s;const o=JSON.parse(localStorage.getItem("storesDates"));o&&(n=o,document.querySelector('[data-btn="saveDocument"]').classList.add("saved")),n.forEach(((o,a)=>{s=!0,o.foodDates.forEach(((n,r)=>{const[l,d]=n.split(", "),p=d.split("-"),i=new Date(p[0],p[1]-1,p[2]),c=Math.ceil((i-t)/864e5);c<=16&&((t,o,a,n,r,l)=>{const d={"Свій маркет":"shop_sviumarket",Близенько:"shop_blizenko",Рукавичка:"shop_rukavichka",АТБ:"shop_atb",Сімі:"shop_simi",Арсен:"shop_arsen"}[a]||"";if(s)e.insertAdjacentHTML("beforeend",`\n                <div data-spollers data-storage-index="${r}" class="shop ${d}">\n                    <h2 data-spoller class="shop__title _icon-angle-right">${n}</h2>\n                    <div class="shop__items">\n                        <div data-food-index="${l}" class="shop__item">\n                            <p data-date="name" class="shop__product">${t} :</p> \n                            <p data-date="days" class="shop__days"><span class="shop__span">${o}</span> днів</p>\n                            <button data-btn="infoRemove" class="shop__btn-remove _icon-plus"></button>  \n                            <button data-btn="info" class="shop__btn-info">i</button>  \n                        </div>\n                    </div>\n                </div>`),s=!1;else{const e=document.querySelector(`[data-storage-index="${r}"]`);console.log(r),console.log(e),e.querySelector(".shop__items").insertAdjacentHTML("beforeend",` <div data-food-index="${l}" class="shop__item">\n                            <p data-date="name" class="shop__product">${t} :</p> \n                            <p data-date="days" class="shop__days"><span class="shop__span">${o}</span> днів</p>\n                            <button data-btn="infoRemove" class="shop__btn-remove _icon-plus"></button>  \n                            <button data-btn="info" class="shop__btn-info">i</button>  \n                        </div>`)}})(l,c,o.category,o.address,a,r)}))}))}(),function(){const e=document.querySelectorAll("[data-spollers]");if(e.length>0){const s=Array.from(e).filter((function(e,t,s){return!e.dataset.spollers.split(",")[0]}));s.length&&a(s);let o=function(e,t){const s=Array.from(e).filter((function(e,s,o){if(e.dataset[t])return e.dataset[t].split(",")[0]}));if(s.length){const e=[];s.forEach((s=>{const o={},a=s.dataset[t].split(",");o.value=a[0],o.type=a[1]?a[1].trim():"max",o.item=s,e.push(o)}));let o=e.map((function(e){return"("+e.type+"-width: "+e.value+"px),"+e.value+","+e.type}));o=function(e){return e.filter((function(e,t,s){return s.indexOf(e)===t}))}(o);const a=[];if(o.length)return o.forEach((t=>{const s=t.split(","),o=s[1],n=s[2],r=window.matchMedia(s[0]),l=e.filter((function(e){if(e.value===o&&e.type===n)return!0}));a.push({itemsArray:l,matchMedia:r})})),a}}(e,"spollers");function a(e,t=!1){e.forEach((e=>{e=t?e.item:e,t.matches||!t?(e.classList.add("_spoller-init"),n(e),e.addEventListener("click",r)):(e.classList.remove("_spoller-init"),n(e,!1),e.removeEventListener("click",r))}))}function n(e,t=!0){let s=e.querySelectorAll("[data-spoller]");s.length&&(s=Array.from(s).filter((t=>t.closest("[data-spollers]")===e)),s.forEach((e=>{t?(e.removeAttribute("tabindex"),e.classList.contains("_spoller-active")||(e.nextElementSibling.hidden=!0)):(e.setAttribute("tabindex","-1"),e.nextElementSibling.hidden=!1)})))}function r(e){const s=e.target;if(s.closest("[data-spoller]")){const o=s.closest("[data-spoller]"),a=o.closest("[data-spollers]"),n=a.hasAttribute("data-one-spoller"),r=a.dataset.spollersSpeed?parseInt(a.dataset.spollersSpeed):500;a.querySelectorAll("._slide").length||(n&&!o.classList.contains("_spoller-active")&&l(a),o.classList.toggle("_spoller-active"),((e,s=500)=>{e.hidden?((e,t=500,s=0)=>{if(!e.classList.contains("_slide")){e.classList.add("_slide"),e.hidden=!e.hidden&&null,s&&e.style.removeProperty("height");let o=e.offsetHeight;e.style.overflow="hidden",e.style.height=s?`${s}px`:"0px",e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=o+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout((()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide"),document.dispatchEvent(new CustomEvent("slideDownDone",{detail:{target:e}}))}),t)}})(e,s):t(e,s)})(o.nextElementSibling,r)),e.preventDefault()}}function l(e){const s=e.querySelector("[data-spoller]._spoller-active"),o=e.dataset.spollersSpeed?parseInt(e.dataset.spollersSpeed):500;s&&!e.querySelectorAll("._slide").length&&(s.classList.remove("_spoller-active"),t(s.nextElementSibling,o))}o&&o.length&&o.forEach((e=>{e.matchMedia.addEventListener("change",(function(){a(e.itemsArray,e.matchMedia)})),a(e.itemsArray,e.matchMedia)}));const d=document.querySelectorAll("[data-spoller-close]");d.length&&document.addEventListener("click",(function(e){e.target.closest("[data-spollers]")||d.forEach((e=>{const s=e.closest("[data-spollers]"),o=s.dataset.spollersSpeed?parseInt(s.dataset.spollersSpeed):500;e.classList.remove("_spoller-active"),t(e.nextElementSibling,o)}))}))}}(),document.addEventListener("input",(e=>{const t=e.target;"INPUT"===t.tagName&&"text"===t.type&&(""!==t.value.trim()?t.classList.add("input-active"):t.classList.remove("input-active"))})),document.addEventListener("click",(function(e){const t=e.target;if(t.closest("[data-btn]")){const e=t.closest("[data-btn]").getAttribute("data-btn");try{l[e]?l[e](t):alert("Not found button value.")}catch(e){console.error(e)}}}));const l={info:function(e){const t=e.closest("[data-storage-index]").dataset.storageIndex,o=e.closest("[data-food-index]").dataset.foodIndex,[a,r]=n[t].foodDates[o].split(", ");s(`\n        <div data-adress="${t},${o}" class="popup__info">\n            <h4 class="popup__title">Інформація про продукт</h4>\n            <p class="popup__text">Мережа: <span class="popup__span">${n[t].category}</span></p>\n            <p class="popup__text">Адреса: <span class="popup__span">${n[t].address}</span></p>\n            <p class="popup__text">Продукт: <span class="popup__span">${a}</span></p>\n            <input data-name class="popup__name" type="text" value="${r}">\n            <input data-date class="popup__date" type="date" value="${r}">\n            <div class="popup__btns">\n                <button data-btn="infoSave" class="popup__btn-confirm">Confirm</button>\n                <button class="popup__btn-reset">Reset</button>\n            </div>\n        </div>`)},infoSave:function(e){const t=e.closest("[data-adress]"),[s,r]=t.dataset.adress.split(","),l=t.querySelector("[data-date]").value,d=n[s].foodDates[r].split(", ")[0];n[s].foodDates[r]=`${d}, ${l}`,o(`Змінено: <span>${n[s].foodDates[r]}</span>. За адресою: <span>${n[s].category}, ${n[s].address}</span> `),a()},infoRemove:function(e){const t=e.closest("[data-storage-index]").dataset.storageIndex,r=e.closest("[data-food-index]").dataset.foodIndex;s('\n    <div class="popup__info">\n        <h4 class="popup__title">Видалити елемент ?</h4>\n        <p class="popup__text">Підтвердіть видалення елемента.</p>\n        <div class="popup__btns">\n            <button class="popup__btn-confirm">Confirm</button>\n        </div>\n    </div>');const l=()=>{n[t].foodDates.splice(r,1),document.querySelector("#popup-content").innerHTML="",document.documentElement.classList.remove("popup-active"),document.querySelector(`[data-storage-index="${t}"]`).querySelector(`[data-food-index="${r}"]`).remove(),a(),o("Видалено")};document.querySelector([".popup__btn-confirm"]).removeEventListener("click",l),document.querySelector([".popup__btn-confirm"]).addEventListener("click",l)},newDate:function(e){let t="";r.forEach((e=>{let s="";n.forEach(((t,o)=>{t.category===e&&(s+=`<option value='${o}'>${t.address}</option>`)})),t+=`<optgroup label="${e}">${s}</optgroup>`})),s(`\n        <h4 class="popup__title">Створити нову дату</h4>\n        <p class="popup__text">Введіть адресу магазина:</p>\n        <select data-select="address" class="popup__select">\n            ${t}\n        </select>\n        <p class="popup__text">Введіть назву продукта:</p>\n        <div class="popup__input">\n            <input data-input="food-name" id="input-product" type="text" autocomplete="off" class="popup__field">\n            <label for="input-product" class="popup__label">Product</label>\n        </div>\n        <p class="popup__text">Введіть дату продукта:</p>\n        <input data-input="food-date" type="date" class="popup__date">\n        <div class="popup__btns">\n            <button data-btn="newDateSave" class="popup__btn-confirm">Confirm</button>\n            <button class="popup__btn-reset">Reset</button>\n        </div>\n    `)},newDateSave:function(e){const t=e.closest(".popup"),s=t.querySelector('[data-select="address"]').value,r=t.querySelector('[data-input="food-name"]').value,l=t.querySelector('[data-input="food-date"]').value;if(!r)return void alert("Введіть назву");if(!l)return void alert("Введіть дату");const d=`${r.trim()}, ${l}`;n[Number(s)].foodDates.push(d),o(`Створено: <span>${d}</span>. За адресою: <span>${n[Number(s)].category}, ${n[Number(s)].address}</span> `),a()},saveDocument:function(){const e=JSON.stringify(n,null,2),t=new Blob([e],{type:"application/json"}),s=URL.createObjectURL(t),o=document.createElement("a");o.href=s,o.download="storage.json",document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(s),localStorage.removeItem("storesDates")}}})();